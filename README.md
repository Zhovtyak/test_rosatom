# Rosatom waste
Базовая реализация API для таких сущностей:
Организация (ОО) — сущность, генерирующая различные отходы.
Хранилище (МНО) — место, где происходит накопление и сортировка отходов.

Здесь же реализована функция переноса отходов из организации в хранилище.

##### Для его запуска на локальном сервере необходимо:
HINT: описание инструкции для запуска с Linux, на котором установлен Docker
1) Склонировать репозиторий:
```
git clone https://github.com/Zhovtyak/test_rosatom
```
2) Провести установку контейнеров в корневой директории проекта, используя файл docker-compose.yml:
```
docker-compose up --build
```

6) Введя в браузере localhost:8000/api, можно оценить работу системы

##### Примеры выполняемых к нему API-запросов
1. Получение всего списка ОО (GET)
```
/api/organizations/
```
2. Получение информации об одном МНО (GET)
```
/api/storages/<number>/
```
3. Создать организацию (POST)
```
/api/organizations/
```
JSON:
```
    {
        "name": "М",
        "max_biowaste": 10,
        "max_glass": 10,
        "max_plastic": 10,
        "total_biowaste": 5,
        "total_glass": 11,
        "total_plastic": 0
    }
```
4. Для переноса отходов из ОО в ближайшее МНО нужно сделать POST-запрос с указанием organization_id, из которого необходимо сделать перенос
```
/api/transfer_waste/
```
JSON:
```
{
    "organization_id": 2
}
```
В результате этого при возможности отходы будут перенесены в ближайшее МНО. В обратном случае будет выведено сообщение о невозможности такого действия

Для связи ОО и МНО создана сущность Distances, к ней также можно будет обратиться по API.
Отходы в ОО вводятся вручную. Необходимо отправлять PUT или PATCH запрос к ОО с указанием total_biowaste, total_glass, total_plastic
